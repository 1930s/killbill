---
layout: default
---

<div class="row">
    <div class="span3 bs-docs-sidebar">
        <ul class="nav nav-list bs-docs-sidenav affix">
            <li><a href="#entitlement_overview">Overview</a></li>
        </ul>
    </div>

    <div class="span12">
        <section id="entitlement_overview">
            <div class="page-header">
                <h1>Overview</h1>
            </div>

            <p>The Kill Bill entitlement system manages all the subscriptions in the system and allow to answer the question of whether a customer did subscribe to a particular plan and whether or not this is ACTIVE. The entitlement system needs to understand the catalog in its details and it deals with the following abstractions:</p>
                <ul>
                    <li>Subscription: a Subscription is associated with a specific catalog entry, which itself defines the Product, Plan, BillingPeriod, Phase and PriceList-- see the <a href="http://kill-bill.org/catalog.html">catalog documentation</a>. It is a live representation of where we are in terms of entitlement. At any given time a subscription is either in the ACTIVE or CANCELED state. Since a Subscription is attached to a instance of a Product catalog and since a Product catalog has a Category, each Subscription is therefore of a specific Category, that is either BASE, ADD_ON, or STANDALONE.</li>
                    <li>SubscriptionBundle: Subscriptions must be part of a SubscriptionBundle. This allows to group them together so that specific operations -- cancellation, change of plan-- on one Subscription may have an impact on the other in the same SubscriptionBundle. There can be at most one Subscription attached to a BASE Category in a SubscriptionBundle but there can be multiple ADD_ON Subscriptions in that same SubscriptionBundle. Typically this is used to make sure that any operation on the BASE Subscription will be reflected on the ADD_ON Susbcriptions in the same SubscriptionBundle.</li>
                </ul>
            </p>
            
            <p>So typically and assuming there is a valid catalog configured in the system, the flow would be to create a SubscriptionBundle for a specific Account, and then create Subscription(s) in that SubscriptionBundle that match specific entries in the catalog. Once a Subscription has been created, the following operations can be applied:
                <ul>
                    <li>A Subscription can be cancelled: The catalog Plan associated to that Subscription will define whether that Subscription is cancelled at the requested date, or whether it will be cancelled at the end of its billing period, which would avoid triggering proration in the system.</li>
                    <li>A Subscription can be recreated -- resumed -- after it has been cancelled: It will restart at the requestedDate which must be greater than the effectiveDate of the cancellation.</li>
                    <li>The current plan associated to a Subscription can be changed: Again the rules defined in the catalog will decide how/when that Plan change occurs.</li>
                  <li>At last, the current state of the Subscription can be retrieved to answer the entitlement question.</li>  
                </ul>
            </p>      
        </section>
    </div>
</div>
